<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:templates="clr-namespace:GCloudPhone.Views.Templates"
    x:Class="GCloudPhone.Views.Settings.MyAccount.RegisterPage"
    Title=""
    NavigationPage.HasNavigationBar="False"
    Shell.NavBarIsVisible="False">

  

    <!-- Glavni grid: dva reda, prvi sa visinom 0.07*, drugi zauzima ostatak -->
    <Grid
        Style="{StaticResource BasicGrid}"
        RowDefinitions="Auto,*">

        <!-- Gornji deo: Povratak unazad -->
        <templates:BackBtnText x:Name="myBackBtnText" />

        <!-- Donji deo: ScrollView sa registracionim sadržajem -->
        <Grid Grid.Row="1">
            <ScrollView>
              
                <Grid RowSpacing="5"
                      RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto"
                      >

                    <!-- 1. Red: Naslov registracije i link ka Datenschutz-u -->
                    
                    <Grid Grid.Row="0" 
                          RowDefinitions="Auto,*"
                          ColumnDefinitions="Auto,*">
                        <!-- Naslov 'Konto anlegen' u prvoj koloni, koristi stil HeadingTwo -->
                        <Label Text="Konto anlegen"
                               Grid.Row="1" Grid.Column="0"
                               HorizontalOptions="Center"
                               VerticalOptions="Start"
                               Style="{StaticResource Headings}"/>
                        <!-- Link 'Datenschutz' u drugoj koloni ostaje nepromenjen -->
                        <Label Text="Datenschutz"
                               Grid.Row="1" 
                               Grid.Column="1"
                               HorizontalOptions="End"
                               VerticalOptions="Center"
                               
                               TextColor="Gray">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped_1"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </Grid>

                    <!-- 2. Red: Unos E-Mail adrese -->
                    <Grid Grid.Row="1" 
                          VerticalOptions="Center"
                          RowDefinitions="Auto,*">
                        <Entry x:Name="emailEntry" Placeholder="E-Mail" Keyboard="Email"/>
                        <Border VerticalOptions="End"/>
                    </Grid>

                    <!-- 3. Red: Unos lozinke -->
                    <Grid Grid.Row="2" 
                          RowDefinitions="Auto,*">
                        <Entry x:Name="passwordEntry"
                               Placeholder="Passwort" IsPassword="True"/>
                        <Border VerticalOptions="End"/>
                    </Grid>

                    <!-- 4. Red: Ponovni unos lozinke -->
                    <Grid Grid.Row="3" 
                          RowDefinitions="Auto,*">
                        <Entry x:Name="passwordAgainEntry" 
                               Placeholder="Passwort erneut eingeben" IsPassword="True"/>
                        <Border VerticalOptions="End"/>
                    </Grid>

                    <!-- 5. Red: Unos imena -->
                    <Grid Grid.Row="4" 
                          RowDefinitions="Auto,*">
                        <Entry x:Name="FirstNameEntry" Placeholder="Vorname"/>
                        <Border VerticalOptions="End"/>
                    </Grid>

                    <!-- 6. Red: Unos prezimena -->
                    <Grid Grid.Row="5" 
                          RowDefinitions="Auto,*">
                        <Entry x:Name="LastNameEntry" Placeholder="Nachname"/>
                        <Border VerticalOptions="End"/>
                    </Grid>

                    <!-- 7. Red: Unos datuma rođenja (opciono) -->
                    <Grid Grid.Row="6" 
                          RowDefinitions="Auto,*">
                        <!-- Unutrašnji grid za prikaz etikete i linije -->
                        <Grid HeightRequest="30">
                            <Label x:Name="birthdayEntry"
                                   Text="Geburtstag (optional)"
                                   TextColor="{StaticResource Gray200}">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped_2"/>
                                </Label.GestureRecognizers>
                            </Label>
                            <Border x:Name="borderBelowLabel" VerticalOptions="End"/>
                        </Grid>
                        <!-- Sakriven DatePicker za izbor datuma -->
                        <DatePicker Grid.Row="1"
                                    x:Name="birthdayDatePicker"
                                    IsVisible="False"
                                    DateSelected="OnBirthdayDateSelected"/>
                    </Grid>

                    <!-- 8. Red: Objašnjenje o datumu rođenja -->
                    <Grid Grid.Row="7" Grid.Column="1">
                        <Label 
                            Style="{StaticResource Explanations}"
                            Text="Verrate uns deinen Geburstag und erhalte Punkte und Aktionen"
                               LineBreakMode="WordWrap"/>
                    </Grid>

                    <!-- 9. Red: Pitanje o prijateljskom kodu, koristi stil HeadingTwo -->
                    <Grid Grid.Row="8"
                          RowDefinitions="Auto,Auto,Auto"
                          RowSpacing="2">
                        <Label Text="Hast Du einen Freundes-Code?"
                               HorizontalOptions="Start"
                               Style="{StaticResource HeadingTwo}"/>
                        <Grid Grid.Row="1" Grid.Column="0">
                            <Entry x:Name="freundesCodeEntry" Placeholder="Freundes-Code (optional)"/>
                            <Border VerticalOptions="End"/>
                        </Grid>
                        <Label Style="{StaticResource Explanations}"
                               Grid.Row="2"
                               Text="Teile unsere App mit Freunden und erhalte weitere Punke und Aktionen"
                                LineBreakMode="WordWrap"/>
                    </Grid>

                
                  
                        
                     
                        <!-- 11. Marketing -->
                        
                    
                    <Grid 
                        Grid.Row="10"
                        RowDefinitions="Auto,Auto,Auto"
                        RowSpacing="5">
                        <Label Grid.Row="0" 
                         Text="Rechtliches Marketing"
                         Style="{StaticResource HeadingTwo}"/>
                        
                        <Grid Grid.Row="1" ColumnDefinitions="*,Auto">
                            <Label Text="Datenschutz annehmen"
                              VerticalOptions="Center"
                             />
                            <Switch x:Name="switchDatenschutz"
                            VerticalOptions="Center"
                            HorizontalOptions="End"/>
                        </Grid>
                        <Grid Grid.Row="2" ColumnDefinitions="*,Auto">
                            <Label Text="AGB's annehmen"
                            VerticalOptions="Center"
                            />
                            <Switch x:Name="switchAGBs"
                             VerticalOptions="Center"
                             HorizontalOptions="End"/>
                        </Grid>
                    </Grid>
                 
                    


                    <!-- 12. Red: Dugme za registraciju -->
                    <Grid Grid.Row="11" Grid.Column="1">
                        <Button Style="{StaticResource PrimaryBtn}"
                                x:Name="RegisterBtn"
                                Text="REGISTRIEREN"
                                
                                Clicked="PerformUserRegistration">
                            <Button.Shadow>
                                <Shadow Brush="Black" Opacity="0.3" Radius="10"/>
                            </Button.Shadow>
                        </Button>
                    </Grid>

                    <!-- 13. Red: Link za postojeće članove -->
                    <Label Grid.Row="12" Grid.Column="1"
                           Text="Bereits Mitglied? Anmelden!"
                           HorizontalOptions="Center"
                           TextColor="Gray">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnAlreadyMemberLabelTapped"/>
                        </Label.GestureRecognizers>
                    </Label>

                    <!-- 14. Red: Verzija aplikacije -->
                    <templates:VersionLabelTemplate Grid.Row="13"/>

                </Grid>
            </ScrollView>
        </Grid>
    </Grid>
</ContentPage>
