<ContentView
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="GCloudPhone.Views.Templates.CartTemplate"
   
    Padding="0">

    <!-- Glavni okvir za Cart:  sa senkom i zaobljenim ivicama -->
    <Frame
      x:Name="RootFrame"
      CornerRadius="21"
      HasShadow="True"
      WidthRequest="300"
      HeightRequest="40"
      Padding="0"
      BorderColor="{StaticResource Tertiary}"
      BackgroundColor="{StaticResource White}"
      VerticalOptions="Center">

        <!-- DataTrigger za promenu pozadine kada HasMultipleItems == true -->
        <Frame.Triggers>
            <DataTrigger
          TargetType="Frame"
          Binding="{Binding HasMultipleItems}"
          Value="True">
                <Setter
            Property="BackgroundColor"
            Value="{StaticResource Tertiary}" />
            </DataTrigger>
        </Frame.Triggers>

        <Frame.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnCartTapped" />
        </Frame.GestureRecognizers>

        <HorizontalStackLayout
        Spacing="5"
        HorizontalOptions="Center"
        VerticalOptions="Center">

            <!-- Naslov -->
            <Label
          Text="Warenkorb"
                HorizontalOptions="Center"
                VerticalOptions="Center"
          FontFamily="Quicksand-Bold">
                <Label.Triggers>
                    <DataTrigger
              TargetType="Label"
              Binding="{Binding HasMultipleItems}"
              Value="True">
                        <Setter Property="TextColor" Value="White" />
                    </DataTrigger>
                </Label.Triggers>
            </Label>

            <!-- Broj stavki -->
            <Label
          x:Name="ItemsCount"
          Text="{Binding ItemCount, StringFormat=' {0} '}"
          FontSize="18"
          HorizontalTextAlignment="Center"
          VerticalTextAlignment="Center"
          TextColor="{StaticResource Tertiary}">
                <Label.Triggers>
                    <DataTrigger
              TargetType="Label"
              Binding="{Binding HasMultipleItems}"
              Value="True">
                        <Setter Property="TextColor" Value="White" />
                    </DataTrigger>
                </Label.Triggers>
            </Label>

            <!-- Ikonica korpe -->
            <Image
          Source="cart_izo.png"
          WidthRequest="30"
          HeightRequest="30"
          VerticalOptions="Center"
          HorizontalOptions="Center" />

            <!-- Ukupna cena -->
            <Label
          x:Name="TotalPriceLabel"
          Text="{Binding TotalPrice, StringFormat='â‚¬{0:F2}'}"
          FontSize="18"
          FontAttributes="Bold"
          VerticalOptions="Center"
          HorizontalOptions="Center"
          IsVisible="{Binding IsLabelVisible}"
          TextColor="{StaticResource Tertiary}">
                <Label.Triggers>
                    <DataTrigger
              TargetType="Label"
              Binding="{Binding HasMultipleItems}"
              Value="True">
                        <Setter Property="TextColor" Value="White" />
                    </DataTrigger>
                </Label.Triggers>
            </Label>

        </HorizontalStackLayout>
    </Frame>

    <!-- TapGesture za ceo Cart okvir -->
    <ContentView.GestureRecognizers>
        <TapGestureRecognizer Tapped="OnCartTapped" />
    </ContentView.GestureRecognizers>
</ContentView>
