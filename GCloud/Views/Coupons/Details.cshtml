@using GCloud.Extensions
@model GCloud.Models.Domain.Coupon

@{
    ViewBag.Title = "Gutschein Details";
    var unbegrenzt = "Unbegrenzt";
}

<h2>Gutschein Details</h2>

<div>
    <hr />
    <img id="imgPreview" style="width: 15em; height: 15em;" src="@Url.Action("LoadCouponImage", "Coupons", new {id = Html.ValueFor(x => x.Id)})" alt="Kein Bild vorhanden" />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.AssignedStores)
        </dt>

        <dd>
            @string.Join(",", Model.AssignedStores.Select(x => x.Name))
        </dd>

        <dt>
            @Html.DisplayName("Angelegt von")
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CreatedUser.UserName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ShortDescription)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ShortDescription)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.MaxRedeems)
        </dt>

        <dd>
            @(Model.MaxRedeems.HasValue ? Model.MaxRedeems.ToString() : unbegrenzt)
            @Html.DisplayFor(model => model.MaxRedeems)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Value)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Value)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CouponType)
        </dt>

        <dd>
            @Html.DisplayName(Model.CouponType.GetDisplayName())
        </dd>

    </dl>
</div>
<p>
    <a href="@Url.Action("Index")" class="btn btn-info">
        <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
        Zurück
    </a>
    @if (User.IsInRole("Managers"))
    {
        <a href="@Url.Action("Edit", new {id = Model.Id})" class="btn btn-warning">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            Bearbeiten
        </a>
    }
</p>