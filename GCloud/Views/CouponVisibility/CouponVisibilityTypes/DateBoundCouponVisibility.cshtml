@model GCloud.Models.Domain.DateBoundCouponVisibility
<div class="alert alert-danger alert-required" role="alert" style="display: none">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    <span class="sr-only">Error:</span>
    Es muss zumindest ein Datum ausgewählt werden
</div>
<div class="alert alert-danger alert-wrong-date" role="alert" style="display: none">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    <span class="sr-only">Error:</span>
    Das Von-Datum muss vor dem Nach-Datum sein
</div>
<div class="form-group">
    @Html.LabelFor(model => model.ValidFrom)
    @Html.EditorFor(model => model.ValidFrom, new { htmlAttributes = new { @class = "form-control", @type = "date" } })
</div>
<div class="form-group">
    @Html.LabelFor(model => model.ValidTo)
    @Html.EditorFor(model => model.ValidTo, new { htmlAttributes = new { @class = "form-control", @type = "date" } })
</div>
<input class="btn btn-primary" type="submit" value="Übernehmen" />

<script>
    //# sourceURL=DateBoundCouponVisibility.js
    function DateBoundCouponVisibility() {
        $(".alert").hide();
        var validFrom = $("#ValidFrom").val();
        var validTo = $("#ValidTo").val();
        if ((validFrom == undefined || validFrom.trim() === "") && (validTo == undefined || validTo.trim() === "")) {
            $(".alert.alert-required").show();
            return false;
        }

        if (validFrom && validTo && new Date(validFrom).getTime() > new Date(validTo).getTime()) {
            $(".alert.alert-wrong-date").show();
            return false;
        }
        return true;
    }
</script>